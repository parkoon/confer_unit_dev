<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Insert title here</title>
</head>

<body>
    <form action='/upload' method='post' enctype='multipart/form-data'>
        name
        <input type='text' name='username'>
        <p>
            file :
            <input type='file' id='attachedFile' name='attachedFile' multiple>
            <input type='submit' value='upload'>
    </form>

    <script>
        document.getElementById('attachedFile').onchange = function () {
            var fileReader = new FileReader();

            for (var fileIdx = 0; fileIdx < this.files.length; fileIdx++) {
                alert(this.files[fileIdx].name);
                var fileName = this.files[fileIdx].name;
                var fileExt = fileName.substring(fileName.lastIndexOf('.')+1).toUpperCase();
                
                if (fileExt != 'GIF'
                 && fileExt != 'PNG'
                 && fileExt != 'JPG'
                 && fileExt != 'JPEG'
                 && fileExt != 'PDF') {
                    alert ('GIF, PNG, JPG, JPEG, PDF 확장자 파일만 업로드할 수 있습니다.');
                    document.getElementById('attachedFile').value = null;
                    return;
                }
            }
        }
    </script>
</body>

</html>